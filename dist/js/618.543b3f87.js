"use strict";(self["webpackChunkdrawai"]=self["webpackChunkdrawai"]||[]).push([[618],{666:function(a,e,t){t.r(e),t.d(e,{default:function(){return L}});var s=t(3396),l=t(7139),i=t(9242),c=t.p+"img/spriteicon.c567c937.svg",n=t(9387);const r=a=>((0,s.dD)("data-v-7894654c"),a=a(),(0,s.Cn)(),a),o=c+"#X",d={class:"id__container"},_={key:0,class:"grid grid__2c container container-center"},m=r((()=>(0,s._)("span",null,[(0,s._)("svg",null,[(0,s._)("use",{href:o})])],-1))),u=[m],g={key:0,class:"id__loading"},h=r((()=>(0,s._)("img",{style:{width:"60px",height:"60px"},src:n,alt:""},null,-1))),p=[h],k=["src"],v={class:"picture__info"},C={class:"picture__name"},y={class:"picture__discri"},w=r((()=>(0,s._)("h2",null,"描述",-1))),f=r((()=>(0,s._)("h2",null,"參數",-1))),b={class:"icon__container"},S=["onClick"],x=["href"],q={class:"comment"},T={class:"comment__name__container"},O=r((()=>(0,s._)("h2",{class:"comment__name"},"留言板",-1))),U={class:"comment__leave__container"},V={class:"comment__scroll"},$={class:"comment__author"},j={class:"comment__paragraph"},D={key:1};function z(a,e,t,c,n,r){return(0,s.wg)(),(0,s.iD)("div",d,[c.isError?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",_,[(0,s._)("button",{class:"button__back",onClick:e[0]||(e[0]=(...a)=>c.back&&c.back(...a))},u),c.isLoad?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",g,p)),c.isLoad?((0,s.wg)(),(0,s.iD)("img",{key:1,src:c.gallery.data.url,alt:""},null,8,k)):(0,s.kq)("",!0),(0,s._)("div",v,[(0,s._)("h1",C,(0,l.zw)(c.gallery["data"].name),1),(0,s._)("div",y,[w,(0,s._)("p",null,(0,l.zw)(c.gallery["data"].description),1),f,(0,s._)("p",null,(0,l.zw)(c.gallery["data"].modeldescrip),1)]),(0,s._)("div",b,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(c.icon,(a=>((0,s.wg)(),(0,s.iD)("div",{key:a["class"],class:"icon__container__box"},[(0,s._)("span",{onClick:e=>c.toggleEmotion(a.class)},[((0,s.wg)(),(0,s.iD)("svg",null,[(0,s._)("use",{class:(0,l.C_)(["fi",a["class"],a["isClicked"]?a.color:""]),href:[`/img/spriteicon.c567c937.svg#${a.href}`]},null,10,x)]))],8,S),(0,s._)("p",null,(0,l.zw)(a["data"]),1)])))),128))]),(0,s._)("div",q,[(0,s._)("div",T,[O,(0,s._)("div",U,[(0,s._)("button",{class:(0,l.C_)([{active:c.isComment}]),onClick:e[1]||(e[1]=(...a)=>c.handleComment&&c.handleComment(...a))}," 我要留言 ",2),(0,s._)("div",{class:(0,l.C_)(["comment__leave",{show:c.isComment}])},[(0,s.wy)((0,s._)("input",{type:"text",class:"leave__author",placeholder:"留言作者名子","onUpdate:modelValue":e[2]||(e[2]=a=>c.commentAuthor=a)},null,512),[[i.nr,c.commentAuthor]]),(0,s.wy)((0,s._)("input",{type:"text",class:"leave__content",placeholder:"留言內容","onUpdate:modelValue":e[3]||(e[3]=a=>c.commentContent=a)},null,512),[[i.nr,c.commentContent]]),(0,s._)("button",{class:"comment__submit",onClick:e[4]||(e[4]=(...a)=>c.handleCommentLeave&&c.handleCommentLeave(...a))}," 送出 ")],2)])]),(0,s._)("div",V,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(c.gallery.data._subtable_1000079,(a=>((0,s.wg)(),(0,s.iD)("article",{class:"comment__each",key:a},[(0,s._)("p",$,(0,l.zw)(a["author"]),1),(0,s._)("p",j,(0,l.zw)(a["comment"]),1)])))),128))])])])])),c.isError?((0,s.wg)(),(0,s.iD)("h1",D,(0,l.zw)(c.gallery.data["error_message"]),1)):(0,s.kq)("",!0)])}t(7658);var N=t(4870),Z=t(2483),E=t(4161),H={setup(){const a=(0,Z.yj)(),e=a.params.id,t=(0,Z.tv)(),l=(0,N.iH)(!1),i=(0,N.qj)({data:{}}),c=(0,N.qj)({data:{}}),n=(0,N.qj)({data:{}}),r=(0,N.qj)({data:{}}),o=((0,N.qj)({data:{}}),(0,N.qj)({data:{}}),(0,N.iH)(!1)),d=(0,N.iH)(""),_=(0,N.iH)(""),m=(0,N.iH)(!1),u=((0,N.qj)({data:{}}),"https://lzu-cors.onrender.com/"),g=()=>{o.value=!o.value},h=()=>{o.value=!o.value;let a=JSON.stringify({_subtable_1000079:{"-1":{1000072:`${d.value}`,1000078:`${_.value}`}}}),t={method:"post",maxBodyLength:1/0,url:`${u}https://ap9.ragic.com/lanziyun/convert2/1/${e}?api&APIKey=OGZiV2psUTdxVkxKVTk3NXRmeUxtYS9sZHdocDVXTkU1cG85TEtvWU1rN0xVS01xMFZBaFdYTGU2OUthV082TQ==`,headers:{"Content-Type":"application/json",withCredentials:!0},data:a};E.Z.request(t).then((a=>{})).catch((a=>{}));setTimeout((()=>{E.Z.get(`https://ap9.ragic.com/lanziyun/convert2/1/${e}?api`).then((a=>{i.data=a.data[e]})).catch((a=>{})),d.value="",_.value=""}),1e3)},p=(0,N.qj)({0:{class:"fi-ss-heart",data:"",isClicked:!1,href:"heart",color:"pink"},1:{class:"fi-sr-grin-squint-tears",data:"",isClicked:!1,href:"laugh",color:"yellow"},2:{class:"fi-sr-angry",data:"",isClicked:!1,href:"angry",color:"red"},3:{class:"fi-ss-surprise",data:"",isClicked:!1,href:"surprise",color:"lightblue"},4:{class:"fi-ss-sad-tear",data:"",isClicked:!1,href:"sad",color:"gray"}}),k=a=>{Object.values(p).forEach((t=>{t.class===a?!0===t.isClicked?(t.isClicked=!t.isClicked,t.data--):(t.isClicked=!0,t.data++):!0===t.isClicked?(t.isClicked=!t.isClicked,t.data--):t.isClicked=!1,localStorage.setItem(e+t.class,JSON.stringify(t.isClicked))})),n.data=c.data,Object.values(n.data).forEach((a=>{a["1000048"]=String(p["0"].data),a["1000049"]=String(p["1"].data),a["1000051"]=String(p["2"].data),a["1000052"]=String(p["3"].data),a["1000053"]=String(p["4"].data),delete a.heart,delete a.laugh,delete a.angry,delete a.wow,delete a.sad})),r.data={_subtable_1000050:n.data,_index_:i.data._index_,_seq:i.data._seq},E.Z.post(`${u}https://ap9.ragic.com/lanziyun/convert2/1/${e}?api&APIKey=OGZiV2psUTdxVkxKVTk3NXRmeUxtYS9sZHdocDVXTkU1cG85TEtvWU1rN0xVS01xMFZBaFdYTGU2OUthV082TQ==`,r.data).then((a=>{})).catch((a=>{console.error(a.response.data.error_message)}))},v=JSON.parse(localStorage.getItem(`${e}fi-ss-heart`)),C=JSON.parse(localStorage.getItem(`${e}fi-sr-grin-squint-tears`)),y=JSON.parse(localStorage.getItem(`${e}fi-sr-angry`)),w=JSON.parse(localStorage.getItem(`${e}fi-ss-surprise`)),f=JSON.parse(localStorage.getItem(`${e}fi-ss-sad-tear`));p["0"].isClicked=v,p["1"].isClicked=C,p["2"].isClicked=y,p["3"].isClicked=w,p["4"].isClicked=f;let b=null;(0,s.bv)((()=>{E.Z.get(`https://ap9.ragic.com/lanziyun/convert2/1/${e}?api`).then((a=>{i.data=a.data[e],c.data=a.data[e]._subtable_1000050,Object.values(c.data).forEach((a=>{p["0"].data=a.heart,p["1"].data=a.laugh,p["2"].data=a.angry,p["3"].data=a.wow,p["4"].data=a.sad})),m.value=!0})).catch((a=>{l.value=!0,i.data["error_message"]=a.response.data.error_message,b=setTimeout((()=>{t.go(-1)}),3e3)}))})),(0,s.Ah)((()=>{t.push({path:""})}));const S=()=>{null===history.state.back?window.location=window.location.origin+"/":t.go(-1)};return{gallery:i,isError:l,back:S,icon:p,toggleEmotion:k,handleComment:g,isComment:o,handleCommentLeave:h,commentAuthor:d,commentContent:_,isLoad:m}}},I=t(89);const J=(0,I.Z)(H,[["render",z],["__scopeId","data-v-7894654c"]]);var L=J}}]);
//# sourceMappingURL=618.543b3f87.js.map